<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Ph√≥ng Sanh ‚Äì Ch√πa 24h</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to bottom, #e0f7fa, #ffffff);
      text-align: center;
      padding: 20px;
      color: #2c3e50;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 10px;
    }
    select, textarea, button {
      padding: 10px;
      margin: 10px;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #2ecc71;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #27ae60;
    }
    .effect-area {
      margin-top: 30px;
      min-height: 150px;
      position: relative;
    }
    .animal {
      width: 80px;
      position: absolute;
      top: 100px;
      left: 50%;
      transform: translateX(-50%);
      animation: flyAway 3s forwards ease-out;
    }
    @keyframes flyAway {
      0% { top: 100px; opacity: 1; }
      100% { top: -100px; opacity: 0; }
    }
    .message {
      font-style: italic;
      margin-top: 20px;
      font-size: 1.1rem;
    }
    .back-link {
      margin-top: 30px;
      display: inline-block;
      text-decoration: none;
      color: #34495e;
      font-weight: bold;
    }
    .music-toggle {
      position: fixed;
      bottom: 10px;
      right: 10px;
      background-color: #ecf0f1;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 8px 12px;
      font-size: 0.9rem;
      cursor: pointer;
      z-index: 100;
    }
  </style>
</head>
<body>
  <h1>Ph√≥ng Sanh ‚Äì Gieo h·∫°t t·ª´ bi</h1>

  <label for="loai">Ch·ªçn lo·∫°i sinh linh:</label>
  <select id="loai">
    <option value="chim">Chim</option>
    <option value="ca">C√°</option>
    <option value="rua">R√πa</option>
  </select><br>

  <textarea id="loiNguyen" rows="3" cols="40" placeholder="L·ªùi nguy·ªán ph√≥ng sanh..."></textarea><br>
  <button onclick="phongSanh()">Ph√≥ng sanh</button>

  <div class="effect-area" id="effectArea"></div>

  <div class="message" id="messageArea"></div>

  <a href="index.html" class="back-link">‚Üê Quay v·ªÅ trang ch·ªß</a>

  <audio id="bgm" autoplay loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_0e7b6fb95e.mp3?filename=zen-garden-ambient-11897.mp3" type="audio/mpeg">
  </audio>
  <button class="music-toggle" onclick="toggleMusic()">T·∫Øt nh·∫°c</button>

  <script>
    let musicOn = true;
    const audio = document.getElementById('bgm');

    function toggleMusic() {
      musicOn = !musicOn;
      if (musicOn) {
        audio.play();
        document.querySelector('.music-toggle').textContent = "T·∫Øt nh·∫°c";
      } else {
        audio.pause();
        document.querySelector('.music-toggle').textContent = "B·∫≠t nh·∫°c";
      }
    }

    function phongSanh() {
      const loai = document.getElementById('loai').value;
      const nguyen = document.getElementById('loiNguyen').value;
      const effectArea = document.getElementById('effectArea');
      const messageArea = document.getElementById('messageArea');

      let imgSrc = '';
      if (loai === 'chim') {
        imgSrc = 'https://cdn-icons-png.flaticon.com/512/616/616430.png';
      } else if (loai === 'ca') {
        imgSrc = 'https://cdn-icons-png.flaticon.com/512/616/616408.png';
      } else {
        imgSrc = 'https://cdn-icons-png.flaticon.com/512/616/616415.png';
      }

      const img = document.createElement('img');
      img.src = imgSrc;
      img.className = 'animal';
      effectArea.innerHTML = '';
      effectArea.appendChild(img);

      messageArea.textContent = 'üê¶ B·∫°n ƒë√£ ph√≥ng sanh th√†nh c√¥ng. C√¥ng ƒë·ª©c v√¥ l∆∞·ª£ng. ' + (nguyen.length > 5 ? `"${nguyen}"` : '');
    }
  </script>
</body>
</html>
